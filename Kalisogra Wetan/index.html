<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Profil & Peta Desa Kalisogra Wetan</title>
      <link rel="icon" type="logo Kabupaten" href="../kab.banyumas.png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'sans-serif'] },
          colors: {
            primary: '#1e3a8a', 
            accent: '#4f7efc', 
            cardbg: '#2e4a9a', 
          }
        }
      }
    }
  </script>

  <style>
    [x-cloak] { display: none !important; }
    body::-webkit-scrollbar { width: 8px; }
    body::-webkit-scrollbar-thumb { background-color: #ffffff; border-radius: 4px; }
    body::-webkit-scrollbar-track { background-color: #1e3a8a; }
  </style>
</head>

<body class="bg-primary font-sans text-white">

<div class="sticky top-0 z-50 max-w-7xl mx-auto px-4 md:px-6 pt-6">
    <header class="bg-primary text-white shadow-xl rounded-xl border border-accent/40 px-4 py-3 md:px-6 md:py-4 flex justify-between items-center gap-2">
    
    <div class="flex items-center gap-2 md:gap-3 min-w-0">
      <i class="fas fa-home text-xl md:text-2xl text-white flex-shrink-0"></i>
      <div class="truncate">
        <h1 class="text-base md:text-xl font-extrabold leading-tight tracking-wider truncate">
          Desa Kalisogra Wetan
        </h1>
        <p class="text-[10px] md:text-xs opacity-70 italic font-normal">
          Kecamatan Kalibagor
        </p>
      </div>
    </div>

    <a href="../index.html" class="bg-white text-blue-800 px-3 py-2 md:px-4 md:py-2 rounded-lg font-bold hover:bg-yellow-500 hover:text-white transition duration-300 text-xs md:text-sm flex items-center flex-shrink-0 whitespace-nowrap shadow-sm active:scale-95">
      <i class="fas fa-arrow-left md:mr-2"></i> 
      <span class="hidden sm:inline">Kembali ke Kecamatan</span>
      <span class="sm:hidden ml-1">Kembali</span>
    </a>

  </header>
</div>

<main class="max-w-7xl mx-auto px-6 py-8 space-y-8">

  <section class="bg-cardbg rounded-3xl p-8 shadow-md border-t-8 border-white relative overflow-hidden">
        <div class="absolute -right-10 -bottom-10 opacity-[0.03] pointer-events-none">
            <i class="fas fa-map-marked-alt text-[250px]"></i>
        </div>
        <div class="relative z-10">
            <div class="inline-block px-4 py-1 bg-white text-primary rounded-full text-xs font-bold mb-4 uppercase tracking-wider">
                Tentang Desa
            </div>
            <h2 class="text-3xl font-black text-white mb-4">Profil Desa Kalisogra Wetan</h2>
            <p class="text-white text-lg leading-relaxed max-w-4xl">
Desa Kalisogra Wetan merupakan desa kecil yang terletak di ujung utara Kecamatan Kalibagor, Kabupaten Banyumas. Meskipun secara administratif tercatat sebagai salah satu desa dengan luas wilayah terkecil di wilayahnya (sekitar 0,54 km²), desa ini memiliki kepadatan komunitas yang erat dengan populasi sekitar 1000 jiwa. Kehidupan masyarakatnya mencerminkan keharmonisan budaya Jawa Banyumasan yang kental, di mana nilai-nilai gotong royong masih terjaga kuat.           </p>
        </div>
    </section>

    <!-- Bagian Iframe Peta -->
  <section x-data="{ showPreview: false, isFullscreen: false }" 
         class="bg-cardbg rounded-xl shadow-2xl border border-white overflow-hidden flex flex-col">
  
  <div class="px-4 md:px-6 py-4 bg-white flex justify-between items-center gap-2 flex-shrink-0">
    <div class="flex items-center gap-2 md:gap-3 min-w-0">
      <i class="fas fa-map-marked-alt text-blue-800 text-lg md:text-xl flex-shrink-0"></i>
      <div class="font-bold text-blue-800 text-sm md:text-lg truncate">Peta Administrasi Desa</div>
    </div>
    
    <div class="flex items-center gap-2">
     
      <button @click="showPreview = true" 
              class="bg-blue-800 text-white text-[10px] md:text-xs px-3 py-2 md:px-4 md:py-2 rounded-lg hover:bg-blue-900 transition flex items-center shadow-sm active:scale-95">
        <i class="fas fa-download mr-1.5 md:mr-2"></i>
        <span>Download</span>
      </button>

       <button @click="toggleDesaFullscreen($el.closest('section'))" 
              class="bg-blue-800 text-white text-[10px] md:text-xs px-3 py-2 md:px-4 md:py-2 rounded-lg hover:bg-blue-600 transition flex items-center shadow-sm active:scale-95">
        <i class="fas fa-expand mr-1.5 md:mr-2"></i>
        <span x-text="isFullscreen ? 'Kecilkan' : 'Layar Penuh'"></span>
      </button>
      
    </div>
  </div>

  <div id="desaMapWrapper" class="relative flex-1 w-full flex flex-col overflow-hidden bg-white">
    
    <div x-show="isFullscreen" 
         class="bg-blue-900 text-white px-4 py-3 flex justify-between items-center shadow-lg" 
         x-cloak>
      <div class="flex items-center gap-3">
        <i class="fas fa-map-marked-alt"></i>
        <span class="font-bold text-sm">Mode Layar Penuh: Peta Desa Kalisogra Wetan</span>
      </div>
      <button @click="toggleDesaFullscreen($el.closest('section'))" 
              class="bg-red-500 hover:bg-red-600 px-4 py-1.5 rounded-lg text-xs font-bold transition flex items-center gap-2">
        <i class="fas fa-compress"></i> Kembali
      </button>
    </div>

    <iframe src="kalisograwetan.html" 
            class="w-full border-0 transition-all duration-300" 
            :class="isFullscreen ? 'flex-1' : 'h-[50vh] md:h-[60vh]'"
            loading="lazy">
    </iframe>
  </div>

  <div x-show="showPreview" 
       x-transition:enter="transition ease-out duration-300"
       x-transition:enter-start="opacity-0 scale-95"
       x-transition:enter-end="opacity-100 scale-100"
       x-transition:leave="transition ease-in duration-200"
       x-transition:leave-start="opacity-100 scale-100"
       x-transition:leave-end="opacity-0 scale-95"
       class="fixed inset-0 z-[9999] flex items-center justify-center p-2 md:p-6 bg-black/90"
       x-cloak>
    
    <div @click.away="showPreview = false" 
         class="relative w-full max-w-5xl max-h-[95vh] bg-white rounded-xl md:rounded-2xl overflow-hidden shadow-2xl flex flex-col">
      
      <div class="p-3 md:p-4 border-b flex justify-between items-center bg-gray-50 flex-shrink-0">
        <div class="flex items-center gap-2">
           <i class="fas fa-image text-blue-800"></i>
           <h3 class="text-blue-800 font-bold text-xs md:text-base">Preview Layout Peta</h3>
        </div>
        <button @click="showPreview = false" class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-200 text-gray-500 transition">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="flex-1 bg-gray-100 overflow-auto p-2 md:p-4">
  <div class="min-h-full flex items-center justify-center">
    <img src="images/Ds Kalisogra.png" 
         alt="Preview Peta" 
         class="max-w-full h-auto rounded shadow-md block mx-auto">
  </div>
</div>

      <div class="p-3 md:p-4 border-t flex flex-col sm:flex-row justify-end gap-2 bg-gray-50 flex-shrink-0">
        <button @click="showPreview = false" 
                class="order-2 sm:order-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100 text-[11px] md:text-sm font-medium">
          Tutup
        </button>
        <a href="images/Ds Kalisogra.png" download="Peta_Desa_Kalisogra.png" 
           class="order-1 sm:order-2 px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900 transition text-[11px] md:text-sm font-bold flex items-center justify-center gap-2 text-center">
          <i class="fas fa-download text-xs"></i> Simpan Peta (PNG)
        </a>
      </div>
    </div>
  </div>
</section>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div class="bg-white rounded-xl p-6 border border-white/20 shadow-xl">
      <h3 class="text-xl font-bold text-primary mb-4 border-b border-primary/10 pb-2 flex items-center gap-2">
        <i class="fas fa-file-alt text-primary"></i> Data Administratif
      </h3>
      <ul class="space-y-3 text-sm text-primary">
        <li class="flex justify-between border-b border-primary/5 pb-1">
          <span class="opacity-70">Kode Desa</span><span class="font-bold">33.02.10.2012</span>
        </li>
        <li class="flex justify-between border-b border-primary/5 pb-1">
          <span class="opacity-70">Kepala Desa</span><span class="font-bold">Agus Priyanto</span>
        </li>
        <li class="flex justify-between border-b border-primary/5 pb-1">
          <span class="opacity-70">Jumlah RT/RW</span><span class="font-bold">06/02</span>
        </li>
        <li class="flex justify-between">
          <span class="opacity-70">Tahun Data</span><span class="font-bold">2024</span>
        </li>
      </ul>
    </div>

    <div class="bg-white rounded-xl p-6 border border-white/20 shadow-xl">
      <h3 class="text-xl font-bold mb-4 border-b text-primary border-primary/10 pb-2 flex items-center gap-2">
        <i class="fas fa-compass text-primary"></i> Batas Wilayah
      </h3>
      <div class="grid grid-cols-2 gap-4 text-primary text-sm">
        <div class="p-3 bg-white rounded-lg border border-primary/10 text-center">
          <p class="opacity-60 text-xs uppercase">Utara</p>
          <p class="font-bold">Desa Banjarsari Sokaraja</p>
        </div>
        <div class="p-3 bg-white rounded-lg border border-primary/10 text-center">
          <p class="opacity-60 text-xs uppercase">Selatan</p>
          <p class="font-bold">Desa Kalicupak Lor</p>
        </div>
        <div class="p-3 bg-white rounded-lg border border-primary/10 text-center">
          <p class="opacity-60 text-xs uppercase">Timur</p>
          <p class="font-bold">Desa Kalicupak Kidul </p>
        </div>
        <div class="p-3 bg-white rounded-lg border border-primary/10 text-center">
          <p class="opacity-60 text-xs uppercase">Barat</p>
          <p class="font-bold">Desa Karangduren Sokaraja</p>
        </div>
      </div>
    </div>
  </div>

  <section x-data="{ selected: null }">
    <h3 class="text-2xl font-bold mb-6 flex items-center gap-3">
      <i class="fas fa-building text-white"></i> Fasilitas Umum
    </h3>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-white">
      
      <div class="bg-cardbg rounded-xl border border-white/30 overflow-hidden shadow-xl">
        <img src="images/SD.webp" alt="Pendidikan" class="w-full h-32 object-cover">
        <div class="p-4">
          <button @click="selected !== 1 ? selected = 1 : selected = null" class="w-full flex justify-between items-center group">
            <span class="font-bold flex items-center gap-2"><i class="fas fa-school text-white"></i> Pendidikan</span>
            <i class="fas fa-chevron-down text-xs transition-transform" :class="selected === 1 ? 'rotate-180' : ''"></i>
          </button>
          <div x-show="selected === 1" x-collapse x-cloak class="mt-4 pt-4 border-t border-white/10 space-y-2 text-sm text-white/80">
            <p>• SD Negeri Kalisogra Wetan</p>
          </div>
        </div>
      </div>

      <div class="bg-cardbg rounded-xl border border-white/30 overflow-hidden shadow-xl">
        <img src="images/Masjid.PNG" alt="Masjid" class="w-full h-32 object-cover">
        <div class="p-4">
          <button @click="selected !== 2 ? selected = 2 : selected = null" class="w-full flex justify-between items-center group">
            <span class="font-bold flex items-center gap-2"><i class="fas fa-mosque text-white"></i> Tempat Ibadah</span>
            <i class="fas fa-chevron-down text-xs transition-transform" :class="selected === 2 ? 'rotate-180' : ''"></i>
          </button>
          <div x-show="selected === 2" x-collapse x-cloak class="mt-4 pt-4 border-t border-white/10 space-y-2 text-sm text-white/80">
            <p>• Masjid Baiturrahman</p>
            <p>• Mushola Al-Huda</p>
            
          </div>
        </div>
      </div>

      <div class="bg-cardbg rounded-xl border border-white/30 overflow-hidden shadow-xl">
        <img src="images/Tpu.PNG" alt="Pasar" class="w-full h-32 object-cover">
        <div class="p-4">
          <button @click="selected !== 3 ? selected = 3 : selected = null" class="w-full flex justify-between items-center group">
            <span class="font-bold flex items-center gap-2"><i class="fas fa-skull text-white"></i>Makam</span>
            <i class="fas fa-chevron-down text-xs transition-transform" :class="selected === 3 ? 'rotate-180' : ''"></i>
          </button>
          <div x-show="selected === 3" x-collapse x-cloak class="mt-4 pt-4 border-t border-white/10 space-y-2 text-sm text-white/80">
            <p>• TPU Kalisogra Wetan</p>
            
          </div>
        </div>
      </div>

      <div class="bg-cardbg rounded-xl border border-white/30 overflow-hidden shadow-xl">
        <img src="images/Baldes.webp" alt="Pemerintahan" class="w-full h-32 object-cover">
        <div class="p-4">
          <button @click="selected !== 4 ? selected = 4 : selected = null" class="w-full flex justify-between items-center group">
            <span class="font-bold flex items-center gap-2"><i class="fas fa-landmark text-white"></i> Balai Desa</span>
            <i class="fas fa-chevron-down text-xs transition-transform" :class="selected === 4 ? 'rotate-180' : ''"></i>
          </button>
          <div x-show="selected === 4" x-collapse x-cloak class="mt-4 pt-4 border-t border-white/10 space-y-2 text-sm text-white/80">
            <p>• Kantor Balai Desa Kalisogra Wetan</p>
          </div>
        </div>
      </div>

    </div>
  </section>

</main>

<footer class="bg-primary text-white text-sm mt-12 border-t border-accent/20">
  <div class="max-w-7xl mx-auto px-6 py-8 text-center opacity-80">
    <i class="far fa-copyright mr-1"></i> 2025 WebGIS Desa Kalisogra Wetan • Kecamatan Kalibagor
  </div>
</footer>
<script>
  function toggleDesaFullscreen(element) {
  // Mencari container yang ingin di-fullscreen (desaMapWrapper)
  const wrapper = element.querySelector('#desaMapWrapper');

  if (!document.fullscreenElement) {
    if (wrapper.requestFullscreen) {
      wrapper.requestFullscreen();
    } else if (wrapper.webkitRequestFullscreen) {
      wrapper.webkitRequestFullscreen();
    }
  } else {
    document.exitFullscreen();
  }
}

// Event listener untuk sinkronisasi state Alpine.js dengan status fullscreen browser
document.addEventListener('fullscreenchange', () => {
  // Mencari elemen section yang memiliki x-data isFullscreen
  const section = document.querySelector('[x-data*="isFullscreen"]');
  if (section) {
    const alpineData = Alpine.$data(section);
    alpineData.isFullscreen = !!document.fullscreenElement;
  }
});
</script>
</body>
</html>