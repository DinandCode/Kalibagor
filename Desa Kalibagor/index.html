<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Profil & Peta Desa Kalibagor</title>
      <link rel="icon" type="logo Kabupaten" href="../kab.banyumas.png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'sans-serif'] },
          colors: {
            primary: '#1e3a8a', 
            accent: '#4f7efc', 
            cardbg: '#2e4a9a', 
          }
        }
      }
    }
  </script>

  <style>
    [x-cloak] { display: none !important; }
    body::-webkit-scrollbar { width: 8px; }
    body::-webkit-scrollbar-thumb { background-color: #ffffff; border-radius: 4px; }
    body::-webkit-scrollbar-track { background-color: #1e3a8a; }
  </style>
</head>

<body class="bg-primary font-sans text-white">
<div class="sticky top-0 z-50 max-w-7xl mx-auto px-4 md:px-6 pt-6">
    <header class="bg-primary text-white shadow-xl rounded-xl border border-accent/40 px-4 py-3 md:px-6 md:py-4 flex justify-between items-center gap-2">
    
    <div class="flex items-center gap-2 md:gap-3 min-w-0">
      <i class="fas fa-home text-xl md:text-2xl text-white flex-shrink-0"></i>
      <div class="truncate">
        <h1 class="text-base md:text-xl font-extrabold leading-tight tracking-wider truncate">
          Desa Kalibagor
        </h1>
        <p class="text-[10px] md:text-xs opacity-70 italic font-normal">
          Kecamatan Kalibagor
        </p>
      </div>
    </div>

    <a href="../index.html" class="bg-white text-blue-800 px-3 py-2 md:px-4 md:py-2 rounded-lg font-bold hover:bg-yellow-500 hover:text-white transition duration-300 text-xs md:text-sm flex items-center flex-shrink-0 whitespace-nowrap shadow-sm active:scale-95">
      <i class="fas fa-arrow-left md:mr-2"></i> 
      <span class="hidden sm:inline">Kembali ke Kecamatan</span>
      <span class="sm:hidden ml-1">Kembali</span>
    </a>

  </header>
</div>

<main class="max-w-7xl mx-auto px-6 py-8 space-y-8">

  <section class="bg-cardbg rounded-3xl p-8 shadow-md border-t-8 border-white relative overflow-hidden">
        <div class="absolute -right-10 -bottom-10 opacity-[0.03] pointer-events-none">
            <i class="fas fa-map-marked-alt text-[250px]"></i>
        </div>
        <div class="relative z-10">
            <div class="inline-block px-4 py-1 bg-white text-primary rounded-full text-xs font-bold mb-4 uppercase tracking-wider">
                Tentang Desa
            </div>
            <h2 class="text-3xl font-black text-white mb-4">Profil Desa Kalibagor</h2>
            <p class="text-white text-lg leading-relaxed max-w-4xl">
Desa Kalibagor merupakan pusat pemerintahan Kecamatan Kalibagor yang menempati posisi geografis strategis sebagai jalur penghubung utama antara Kabupaten Banyumas dan Kabupaten Purbalingga. Sebagai urat nadi transportasi regional melalui Jalan Teuku Umar dan Kalianja, desa ini mengintegrasikan dinamika ekonomi dan mobilitas logistik dengan kearifan lokal yang kental. Kekayaan historis desa ini terpancar melalui keberadaan Cagar Budaya Pabrik Gula Kalibagor yang ikonik, yang berdiri berdampingan dengan bentang alam asri di sepanjang aliran Sungai Serayu. Dengan perpaduan infrastruktur modern dan sektor pertanian yang subur, Desa Kalibagor berkomitmen menjadi lingkungan yang mandiri, harmonis, dan berkelanjutan bagi seluruh masyarakatnya.            </p>
        </div>
    </section>
  <section x-data="{ showNoDownloadAlert: false, isFullscreen: false }" 
         class="bg-cardbg rounded-xl shadow-2xl border border-white overflow-hidden flex flex-col">
  
  <div class="px-4 md:px-6 py-4 bg-white flex justify-between items-center gap-2 flex-shrink-0">
    <div class="flex items-center gap-2 md:gap-3 min-w-0">
      <i class="fas fa-map-marked-alt text-blue-800 text-lg md:text-xl flex-shrink-0"></i>
      <div class="font-bold text-blue-800 text-sm md:text-lg truncate">Peta Administrasi Desa</div>
    </div>
    
    <div class="flex items-center gap-2">
     

      <button @click="showNoDownloadAlert = true" 
              class="bg-blue-800 text-white text-[10px] md:text-xs px-3 py-2 md:px-4 md:py-2 rounded-lg hover:bg-blue-900 transition flex items-center whitespace-nowrap shadow-sm active:scale-95">
        <i class="fas fa-download md:mr-2"></i>
        <span>Download <span class="hidden xs:inline">Peta</span></span>
      </button>

       <button @click="toggleDesaFullscreen($el.closest('section'))" 
              class="bg-blue-800 text-white text-[10px] md:text-xs px-3 py-2 md:px-4 md:py-2 rounded-lg hover:bg-blue-600 transition flex items-center whitespace-nowrap shadow-sm active:scale-95">
        <i class="fas md:mr-2" :class="isFullscreen ? 'fa-compress' : 'fa-expand'"></i>
        <span >Layar Penuh</span>
      </button>

    </div>
  </div>

  <div id="desaKalibagorWrapper" class="relative flex-1 w-full flex flex-col overflow-hidden bg-white">
    
    <div x-show="isFullscreen" 
         class="bg-blue-900 text-white px-4 py-3 flex justify-between items-center shadow-lg" 
         x-cloak>
      <div class="flex items-center gap-3">
        <i class="fas fa-map-marked-alt text-white"></i>
        <span class="font-bold text-sm md:text-base">Peta Desa Kalibagor</span>
      </div>
      <button @click="toggleDesaFullscreen($el.closest('section'))" 
              class="bg-red-500 hover:bg-red-600 px-4 py-1.5 rounded-lg text-xs font-bold transition flex items-center gap-2">
        <i class="fas fa-compress"></i> Kembali
      </button>
    </div>

    <iframe src="map kalibagor.html" 
            class="w-full border-0 transition-all duration-300" 
            :class="isFullscreen ? 'flex-1' : 'h-[50vh] md:h-[60vh]'"
            loading="lazy">
    </iframe>
  </div>

  <div x-show="showNoDownloadAlert" 
       class="fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"
       x-transition:enter="transition ease-out duration-300"
       x-transition:enter-start="opacity-0"
       x-transition:enter-end="opacity-100"
       x-transition:leave="transition ease-in duration-200"
       x-transition:leave-start="opacity-100"
       x-transition:leave-end="opacity-0"
       x-cloak>
    <div @click.away="showNoDownloadAlert = false" class="bg-white rounded-2xl p-6 md:p-8 max-w-sm w-full shadow-2xl text-center border border-gray-100">
      <div class="mb-4">
        <div class="w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-2 animate-pulse">
          <i class="fas fa-file-invoice text-4xl text-blue-800"></i>
          <div class="absolute mt-10 ml-10 bg-red-500 rounded-full w-8 h-8 flex items-center justify-center border-4 border-white">
             <i class="fas fa-times text-white text-xs"></i>
          </div>
        </div>
      </div>
      <h3 class="text-xl font-bold text-blue-900 mb-2">Belum Tersedia</h3>
      <p class="text-gray-600 text-sm md:text-base mb-6">Mohon maaf, file Peta Desa Kalibagor belum tersedia untuk diunduh.</p>
      <button @click="showNoDownloadAlert = false" class="w-full py-3 bg-blue-800 text-white rounded-xl font-bold hover:bg-blue-900">Tutup</button>
    </div>
  </div>
</section>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div class="bg-white rounded-xl p-6 border border-white/20 shadow-xl">
      <h3 class="text-xl font-bold text-primary mb-4 border-b border-primary/10 pb-2 flex items-center gap-2">
        <i class="fas fa-file-alt text-primary"></i> Data Administratif
      </h3>
      <ul class="space-y-3 text-sm text-primary">
        <li class="flex justify-between border-b border-primary/5 pb-1">
          <span class="opacity-70">Kode Desa</span><span class="font-bold">33.02.10.2007</span>
        </li>
        <li class="flex justify-between border-b border-primary/5 pb-1">
          <span class="opacity-70">Kepala Desa</span><span class="font-bold">Slamet Riyanto, SE.</span>
        </li>
        <li class="flex justify-between border-b border-primary/5 pb-1">
          <span class="opacity-70">Jumlah RT/RW</span><span class="font-bold">56/06</span>
        </li>
        <li class="flex justify-between">
          <span class="opacity-70">Tahun Data</span><span class="font-bold">2024</span>
        </li>
      </ul>
    </div>

    <div class="bg-white rounded-xl p-6 border border-white/20 shadow-xl">
      <h3 class="text-xl font-bold mb-4 border-b text-primary border-primary/10 pb-2 flex items-center gap-2">
        <i class="fas fa-compass text-primary"></i> Batas Wilayah
      </h3>
      <div class="grid grid-cols-2 gap-4 text-primary text-sm">
        <div class="p-3 bg-white rounded-lg border border-primary/10 text-center">
          <p class="opacity-60 text-xs uppercase">Utara</p>
          <p class="font-bold">Desa Sokaraja Kidul</p>
        </div>
        <div class="p-3 bg-white rounded-lg border border-primary/10 text-center">
          <p class="opacity-60 text-xs uppercase">Selatan</p>
          <p class="font-bold">Desa Kaliori</p>
        </div>
        <div class="p-3 bg-white rounded-lg border border-primary/10 text-center">
          <p class="opacity-60 text-xs uppercase">Timur</p>
          <p class="font-bold">Desa Pajerukan </p>
        </div>
        <div class="p-3 bg-white rounded-lg border border-primary/10 text-center">
          <p class="opacity-60 text-xs uppercase">Barat</p>
          <p class="font-bold">Desa Karangdadap</p>
        </div>
      </div>
    </div>
  </div>

  <section x-data="{ selected: null }">
    <h3 class="text-2xl font-bold mb-6 flex items-center gap-3">
      <i class="fas fa-building text-white"></i> Fasilitas Umum
    </h3>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-white">
      
      <div class="bg-cardbg rounded-xl border border-white/30 overflow-hidden shadow-xl">
        <img src="images/SMK1.webp" alt="Pendidikan" class="w-full h-32 object-cover">
        <div class="p-4">
          <button @click="selected !== 1 ? selected = 1 : selected = null" class="w-full flex justify-between items-center group">
            <span class="font-bold flex items-center gap-2"><i class="fas fa-school text-white"></i> Pendidikan</span>
            <i class="fas fa-chevron-down text-xs transition-transform" :class="selected === 1 ? 'rotate-180' : ''"></i>
          </button>
          <div x-show="selected === 1" x-collapse x-cloak class="mt-4 pt-4 border-t border-white/10 space-y-2 text-sm text-white/80">
            <p>• SDN 1 Kalibagor</p>
            <p>• SDN 2 Kalibagor</p>
            <p>• SMPN 1 Kalibagor</p>
            <p>• SMKN 1 Kalibagor</p>
            <p>• SMK Politeknik Banyumas</p>

          </div>
        </div>
      </div>

      <div class="bg-cardbg rounded-xl border border-white/30 overflow-hidden shadow-xl">
        <img src="images/Masjid Isti.webp" alt="Masjid" class="w-full h-32 object-cover">
        <div class="p-4">
          <button @click="selected !== 2 ? selected = 2 : selected = null" class="w-full flex justify-between items-center group">
            <span class="font-bold flex items-center gap-2"><i class="fas fa-mosque text-white"></i> Tempat Ibadah</span>
            <i class="fas fa-chevron-down text-xs transition-transform" :class="selected === 2 ? 'rotate-180' : ''"></i>
          </button>
          <div x-show="selected === 2" x-collapse x-cloak class="mt-4 pt-4 border-t border-white/10 space-y-2 text-sm text-white/80">
            <p>Masjid Istiqomah</p>
<p>Masjid Al-Ikhlas</p>
<p>Masjid AR-Rahmah</p>
<p>Masjid Baitul Muslim</p>
<p>Masjid Jami Al-Itikaf</p>
<p>Masjid Al-Khoeri</p>
<p>Masjid An-Nur Kalibagor</p>
<p>Masjid Yamp</p>
<p>Masjid Al Ittihad Perum Bukit Kalibagor</p>
<p>Masjid Al - Jannah</p>

          </div>
        </div>
      </div>

      <div class="bg-cardbg rounded-xl border border-white/30 overflow-hidden shadow-xl">
        <img src="images/Puskesmas.webp" alt="Pasar" class="w-full h-32 object-cover">
        <div class="p-4">
          <button @click="selected !== 3 ? selected = 3 : selected = null" class="w-full flex justify-between items-center group">
            <span class="font-bold flex items-center gap-2"><i class="fas fa-heartbeat text-white"></i> Kesehatan</span>
            <i class="fas fa-chevron-down text-xs transition-transform" :class="selected === 3 ? 'rotate-180' : ''"></i>
          </button>
          <div x-show="selected === 3" x-collapse x-cloak class="mt-4 pt-4 border-t border-white/10 space-y-2 text-sm text-white/80">
<p>Klinik Tiara Medika</p>
<p>Puskesmas Kalibagor</p>
<p>Dokter Pandu</p>
<p>Dokter Febrilia</p>
<p>Apotek Hazkia</p>
<p>Klinik Pratama Husada</p>
<p>Apotek Agistha Farma</p>
          </div>
        </div>
      </div>

      <div class="bg-cardbg rounded-xl border border-white/30 overflow-hidden shadow-xl">
        <img src="images/Kantor_Desa_Kalibagor.jpg" alt="Pemerintahan" class="w-full h-32 object-cover">
        <div class="p-4">
          <button @click="selected !== 4 ? selected = 4 : selected = null" class="w-full flex justify-between items-center group">
            <span class="font-bold flex items-center gap-2"><i class="fas fa-landmark text-white"></i> Balai Desa</span>
            <i class="fas fa-chevron-down text-xs transition-transform" :class="selected === 4 ? 'rotate-180' : ''"></i>
          </button>
          <div x-show="selected === 4" x-collapse x-cloak class="mt-4 pt-4 border-t border-white/10 space-y-2 text-sm text-white/80">
            <p>• Kantor Balai Desa Kalibagor</p>
            <p>• Kantor Kecamatan Kalibagor</p>
          </div>
        </div>
      </div>

    </div>
  </section>

</main>

<footer class="bg-primary text-white text-sm mt-12 border-t border-accent/20">
  <div class="max-w-7xl mx-auto px-6 py-8 text-center opacity-80">
    <i class="far fa-copyright mr-1"></i> 2025 WebGIS Desa Kalibagor • Kecamatan Kalibagor
  </div>
</footer>
<script>
  function toggleDesaFullscreen(sectionElement) {
  // Mencari wrapper di dalam section yang diklik saja
  const wrapper = sectionElement.querySelector('[id$="Wrapper"]');

  if (!document.fullscreenElement) {
    if (wrapper.requestFullscreen) {
      wrapper.requestFullscreen();
    } else if (wrapper.webkitRequestFullscreen) {
      wrapper.webkitRequestFullscreen();
    }
  } else {
    document.exitFullscreen();
  }
}

// Menangani perubahan state isFullscreen secara otomatis
document.addEventListener('fullscreenchange', () => {
  const sections = document.querySelectorAll('[x-data*="isFullscreen"]');
  sections.forEach(section => {
    const alpineData = Alpine.$data(section);
    // Jika wrapper di dalam section ini adalah elemen yang sedang fullscreen
    const wrapper = section.querySelector('[id$="Wrapper"]');
    alpineData.isFullscreen = (document.fullscreenElement === wrapper);
  });
});
</script>
</body>
</html>